<!DOCTYPE html>
<html lang="">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maxium-scale=1,user-scalable=no">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <link rel="stylesheet" media="screen" href="../src/components/bgc-animate/bgc.css">
    <title>张新阳的博客开发</title>
  </head>
  <body>
    <noscript>
      <strong>非常抱歉，读取js文件错误</strong>
    </noscript>
    <div id="particles-js" style="display: flex;align-items: center;justify-content: center">
			<canvas class="particles-js-canvas-el" style="width: 100%; height: 100%;" width="472" height="625"></canvas>
		</div>
    <div id="app"></div>
    <!-- <div id="particles-js"></div> -->
        
    <script src="../src/components/bgc-animate/bgc.js"></script>
    <script>
      window.particlesJS = function(tag_id, params){

//console.log(params);

/* no string id? so it's object params, and set the id with default id */
if(typeof(tag_id) != 'string'){
  params = tag_id;
  tag_id = 'particles-js';
}

/* no id? set the id to default id */
if(!tag_id){
  tag_id = 'particles-js';
}

/* pJS elements */
var pJS_tag = document.getElementById(tag_id),
    pJS_canvas_class = 'particles-js-canvas-el',
    exist_canvas = pJS_tag.getElementsByClassName(pJS_canvas_class);

/* remove canvas if exists into the pJS target tag */
if(exist_canvas.length){
  while(exist_canvas.length > 0){
    pJS_tag.removeChild(exist_canvas[0]);
  }
}

/* create canvas element */
var canvas_el = document.createElement('canvas');
canvas_el.className = pJS_canvas_class;

/* set size canvas */
canvas_el.style.width = "100%";
canvas_el.style.height = "100%";

/* append canvas */
var canvas = document.getElementById(tag_id).appendChild(canvas_el);

/* launch particle.js */
if(canvas != null){
  window.pJSDom.push(new PJS(tag_id, params));
}
};

window.particlesJS.load = function(tag_id, path_config_json, callback){

/* load json config */
var xhr = new XMLHttpRequest();
xhr.open('GET', path_config_json);
xhr.onreadystatechange = function (data) {
  if(xhr.readyState == 4){
    if(xhr.status == 200){
      var params = JSON.parse(data.currentTarget.response);
      window.particlesJS(tag_id, params);
      if(callback) callback();
    }else{
      console.log('Error pJS - XMLHttpRequest status: '+xhr.status);
      console.log('Error pJS - File config not found');
    }
  }
};
xhr.send();

};
    </script>
    <!-- built files will be auto injected -->
  </body>
</html>
